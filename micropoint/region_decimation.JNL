<Journal><Description>Create grid image and mask of ROI with the same image size as the original. </Description><Version VersionNumber="2.4"/><CodeBlock><CommentEntry>Populate bounding ROI with smaller ROIs to fill in region. Size of smaller ROIs is determined by size of grid boxes define in "Boxes on Binary Image" step. </CommentEntry><CommentEntry></CommentEntry><CommentEntry>Get mask of bounding ROI</CommentEntry><CommentEntry>Create a new binary image to draw the ROI which is the same size as the original. </CommentEntry><AssignVariableEntry VariableName="NewWidth" Expression="Image.Width"/><AssignVariableEntry VariableName="NewHeight" Expression="Image.Height"/><FunctionEntry GUID="{0x3cef1e6b-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="New" Interactive="0" ApplicationName="mmproc" VersionNumber="19990715" CommandID="1" MissingImage="0" MetaJournal="0BD871B8" IsCurrentVersion="1" Variables="0BD8700C"><Variable Type="Integer" Name="newImageJNL.nWidth" NDimensions="0" Override="Variable" OverrideVariable="NewWidth">512</Variable><Variable Type="Integer" Name="newImageJNL.nHeight" NDimensions="0" Override="Variable" OverrideVariable="NewHeight">480</Variable><Variable Type="Integer" Name="newImageJNL.nDepth" NDimensions="0" Override="None" OverrideVariable="Depth">1</Variable><Variable Type="UInteger" Name="newImageJNL.nGray" NDimensions="0" Override="None" OverrideVariable="Gray Value">0</Variable><Variable Type="String" Name="newImageJNL.nName" NDimensions="0" Override="" OverrideVariable="">11 BoundingROI</Variable><Variable Type="Image" Name="newImageJNL.imNew" NDimensions="0" Override="" OverrideVariable="">m	0 6 9 17 1 -1 -1 3 New </Variable><Variable Type="UByte" Name="newImageJNL.r" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UByte" Name="newImageJNL.g" NDimensions="0" Override="" OverrideVariable="">255</Variable><Variable Type="UByte" Name="newImageJNL.b" NDimensions="0" Override="" OverrideVariable="">255</Variable><Variable Type="UInteger" Name="newImageJNL.r16" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="newImageJNL.g16" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="newImageJNL.b16" NDimensions="0" Override="" OverrideVariable="">0</Variable></FunctionEntry><CommentEntry>Transfer region from original image to mask of bounding ROI. Clear region from original image. </CommentEntry><FunctionEntry GUID="{0x3cef1eb8-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Transfer Regions" Interactive="0" ApplicationName="mmproc" VersionNumber="19990722" CommandID="2" MissingImage="0" MetaJournal="0BE11170" IsCurrentVersion="1" Variables="0BE10FC4"><Variable Type="Image" Name="TransferRegionsJNL.imSourceImage" NDimensions="0" Override="" OverrideVariable="">m	1 5 9 0 1 -1 -1 8 Untitled </Variable><Variable Type="Image" Name="TransferRegionsJNL.imDestImage" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 11 BoundingROI </Variable><Variable Type="Integer" Name="TransferRegionsJNL.nRegionSel" NDimensions="0" Override="" OverrideVariable="">2</Variable><Variable Type="Logical" Name="TransferRegionsJNL.bSrcClear" NDimensions="0" Override="" OverrideVariable="">TRUE</Variable><Variable Type="Logical" Name="TransferRegionsJNL.bDstClear" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><FunctionEntry GUID="{0x3cef1e6d-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Paint Region" Interactive="0" ApplicationName="mmproc" VersionNumber="20000421" CommandID="3" MissingImage="0" MetaJournal="0BD8CE78" IsCurrentVersion="1" Variables="0BD8CCCC"><Variable Type="Image" Name="jnlPaint.imSource" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 11 BoundingROI </Variable><Variable Type="UInteger" Name="jnlPaint.color" NDimensions="0" Override="" OverrideVariable="">255</Variable><Variable Type="String" Name="jnlPaint.theRegion" NDimensions="0" Override="" OverrideVariable="">751 0 5, 1 65535, 2 61 150, 3 0 0, 4 0, 5 1, 6 100 82 172 82 170 82 169 82 167 82 166 81 165 81 164 81 162 81 161 80 160 80 159 79 158 79 157 79 156 78 155 77 154 77 153 76 153 76 152 75 152 74 151 74 151 73 150 72 150 72 150 72 150 71 150 71 150 70 150 69 151 69 151 68 152 67 152 67 153 66 153 66 154 65 155 64 156 64 157 64 158 63 159 63 160 62 161 62 162 62 164 62 165 61 166 61 167 61 169 61 170 61 171 61 172 61 173 61 175 61 176 62 177 62 178 62 180 62 181 63 182 63 183 64 184 64 185 64 186 65 187 66 188 66 189 67 189 67 190 68 190 69 191 69 191 70 192 71 192 71 192 71 192 72 192 72 192 73 192 74 191 74 191 75 190 76 190 76 189 77 189 77 188 78 187 79 186 79 185 79 184 80 183 80 182 81 181 81 180 81 178 81 177 82 176 82 175 82 173 82 172, 7 1</Variable><Variable Type="UInteger" Name="jnlPaint.r" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="jnlPaint.g" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="jnlPaint.b" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="Integer" Name="jnlPaint.nPaintMode" NDimensions="0" Override="" OverrideVariable="">2</Variable><Variable Type="Integer" Name="jnlPaint.nPaintValue" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="Logical" Name="jnlPaint.bUseTheRegion" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable><Variable Type="Logical" Name="jnlPaint.bPaintLabel" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable><Variable Type="String" Name="jnlPaint.stVariable" NDimensions="0" Override="" OverrideVariable="">0 </Variable></FunctionEntry><FunctionEntry GUID="{0x3cef1e75-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Clear Regions" Interactive="0" ApplicationName="mmproc" VersionNumber="1" CommandID="4" MissingImage="0" MetaJournal="0BDB50C8" IsCurrentVersion="1" Variables="0BDB4F1C"><Variable Type="Image" Name="ClearRegionsJNL.clearImage" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 11 BoundingROI </Variable></FunctionEntry><CommentEntry></CommentEntry><CommentEntry>Create Grid image with same width and height dimensions as current at start</CommentEntry><FunctionEntry GUID="{0x3cef1e6b-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="New" Interactive="0" ApplicationName="mmproc" VersionNumber="19990715" CommandID="5" MissingImage="0" MetaJournal="0BD871B8" IsCurrentVersion="1" Variables="0BD8700C"><Variable Type="Integer" Name="newImageJNL.nWidth" NDimensions="0" Override="Variable" OverrideVariable="NewWidth">1392</Variable><Variable Type="Integer" Name="newImageJNL.nHeight" NDimensions="0" Override="Variable" OverrideVariable="NewHeight">1040</Variable><Variable Type="Integer" Name="newImageJNL.nDepth" NDimensions="0" Override="None" OverrideVariable="Depth">1</Variable><Variable Type="UInteger" Name="newImageJNL.nGray" NDimensions="0" Override="None" OverrideVariable="Gray Value">0</Variable><Variable Type="String" Name="newImageJNL.nName" NDimensions="0" Override="" OverrideVariable="">7 NewGrid</Variable><Variable Type="Image" Name="newImageJNL.imNew" NDimensions="0" Override="" OverrideVariable="">m	0 6 9 17 1 -1 -1 3 New </Variable><Variable Type="UByte" Name="newImageJNL.r" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UByte" Name="newImageJNL.g" NDimensions="0" Override="" OverrideVariable="">255</Variable><Variable Type="UByte" Name="newImageJNL.b" NDimensions="0" Override="" OverrideVariable="">255</Variable><Variable Type="UInteger" Name="newImageJNL.r16" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="newImageJNL.g16" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="newImageJNL.b16" NDimensions="0" Override="" OverrideVariable="">0</Variable></FunctionEntry><CommentEntry>EDIT the next step (#6) to change the size of the grid boxes. </CommentEntry><CommentEntry>Draw grid boxes.  </CommentEntry><FunctionEntry GUID="{0x79f510cf-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Boxes on Binary Image" Interactive="0" ApplicationName="gridbin" VersionNumber="1" CommandID="6" MissingImage="0" MetaJournal="0EF78610" IsCurrentVersion="1" Variables="0EF78464"><Variable Type="Image" Name="DrawBinBoxJNL.im" NDimensions="0" Override="" OverrideVariable="">m	1 7 9 0 1 5 0 9 GridBoxes </Variable><Variable Type="Integer" Name="DrawBinBoxJNL.nVert" NDimensions="0" Override="" OverrideVariable="">4</Variable><Variable Type="Integer" Name="DrawBinBoxJNL.nHorz" NDimensions="0" Override="" OverrideVariable="">4</Variable><Variable Type="Integer" Name="DrawBinBoxJNL.nThick" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="Integer" Name="DrawBinBoxJNL.nColor" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="Logical" Name="DrawBinBoxJNL.bRenameBoxImage" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><CommentEntry>Invert grid so boxes are white and borders are black. </CommentEntry><FunctionEntry GUID="{0x37f2b0b2-0xe62d-0x430e-0x96-0xd1-0xa5-0x89-0x3-0xfa-0x4c-0xac}" FunctionName="Morphological Invert" Interactive="0" ApplicationName="morphology" VersionNumber="1" CommandID="7" MissingImage="0" MetaJournal="0F43CA90" IsCurrentVersion="1" Variables="0F43C8E4"><Variable Type="Image" Name="jnlMorphologyInvert.imSrcIm" NDimensions="0" Override="" OverrideVariable="">m	1 3 9 0 1 -1 -1 8 Untitled </Variable><Variable Type="Image" Name="jnlMorphologyInvert.imDestIm" NDimensions="0" Override="" OverrideVariable="">m	0 6 9 17 1 -1 -1 4 Grid </Variable></FunctionEntry><FunctionEntry GUID="{0x3cef1e54-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Close" Interactive="0" ApplicationName="mmproc" VersionNumber="1" CommandID="8" MissingImage="0" MetaJournal="0BD7A480" IsCurrentVersion="1" Variables="0BD7A2D4"><Variable Type="Image" Name="jnlCloseImage.im" NDimensions="0" Override="" OverrideVariable="">m	1 7 9 0 1 5 0 8 Untitled </Variable><Variable Type="Logical" Name="jnlCloseImage.bSaveIt" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><CommentEntry></CommentEntry><CommentEntry>Use the Grid Mask and the Bounding ROI mask to populate bounding ROI with multiple regions. </CommentEntry><FunctionEntry VersionNumber="20060202" GUID="{0x3cef1da3-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Arithmetic" ApplicationName="mmproc" Interactive="0" ExecuteMode="1" CommandID="9" MissingImage="0" MetaJournal="0BCA6780" IsCurrentVersion="1" Variables="0BCA65D4"><Variable Type="Integer" Name="arithmeticJNL.iOperation" NDimensions="0" Override="" OverrideVariable="">8</Variable><Variable Type="Integer" Name="arithmeticJNL.iSecondSource" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="UInteger" Name="arithmeticJNL.nNumerator" NDimensions="0" Override="" OverrideVariable="">0</Variable><Variable Type="UInteger" Name="arithmeticJNL.nDenominator" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="Integer" Name="arithmeticJNL.nResultDepth" NDimensions="0" Override="" OverrideVariable="">1</Variable><Variable Type="Image" Name="arithmeticJNL.imSource1" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 11 BoundingROI </Variable><Variable Type="Image" Name="arithmeticJNL.imSource2" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 4 grid </Variable><Variable Type="Image" Name="arithmeticJNL.imDest" NDimensions="0" Override="" OverrideVariable="">m	0 6 9 17 1 -1 -1 9 SmallROIs </Variable></FunctionEntry><CommentEntry>Use an IMA state file that will exclude small objects that do not define a full grid box at the edge of the object</CommentEntry><FunctionEntry GUID="{0x5985ed21-0xa128-0x11d4-0xb9-0x4d-0x0-0x10-0x5a-0x6b-0xbf-0xf7}" FunctionName="Integrated Morphometry - Load State" ApplicationName="ima" Interactive="0" ExecuteMode="1" VersionNumber="20060920" CommandID="10" MissingImage="0" MetaJournal="0F01B7C8" IsCurrentVersion="1" Variables="0F01B61C"><Variable Type="Image" Name="jnlLoadState.imSource" NDimensions="0" Override="" OverrideVariable="">m	1 3 9 0 1 -1 -1 3 AND </Variable><Variable Type="String" Name="jnlLoadState.stLoadFileName" NDimensions="0" Override="" OverrideVariable="">55 C:\MM\app\mmproc\journals\micropoint\area_threshold.IMA</Variable></FunctionEntry><FunctionEntry GUID="{0x5985ed20-0xa128-0x11d4-0xb9-0x4d-0x0-0x10-0x5a-0x6b-0xbf-0xf7}" FunctionName="Integrated Morphometry - Measure" ApplicationName="ima" Interactive="0" ExecuteMode="1" VersionNumber="20070706" CommandID="11" MissingImage="0" MetaJournal="0F01BD20" IsCurrentVersion="1" Variables="0F01BB74"><Variable Type="Image" Name="jnlMeasure.imSource" NDimensions="0" Override="" OverrideVariable="">m	1 3 9 0 1 -1 -1 3 AND </Variable><Variable Type="Integer" Name="jnlMeasure.nColor" NDimensions="0" Override="" OverrideVariable="">-1</Variable><Variable Type="Image" Name="jnlMeasure.imMask" NDimensions="0">m	1 2 9 2 1 -1 -1 8 Untitled </Variable><Variable Type="Logical" Name="jnlMeasure.bMeasureUsingMask" NDimensions="0">FALSE</Variable></FunctionEntry><FunctionEntry VersionNumber="1" GUID="{0x79f511cf-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Create Regions Around Objects" ApplicationName="traceobj" Interactive="0" ExecuteMode="1" CommandID="12" MissingImage="0" MetaJournal="0FC62098" IsCurrentVersion="1" Variables="0FC61EEC"><Variable Type="Image" Name="jnlTraceObj.imSource" NDimensions="0" Override="" OverrideVariable="">m	1 3 9 0 1 -1 -1 8 Untitled </Variable></FunctionEntry><FunctionEntry GUID="{0x79f51195-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Resequence Region Labels" Interactive="0" ApplicationName="rgnseq" VersionNumber="1" CommandID="13" MissingImage="0" MetaJournal="0F9C1330" IsCurrentVersion="1" Variables="0F9C1184"><Variable Type="Image" Name="jnlSequence.im" NDimensions="0" Override="" OverrideVariable="">m	1 3 10 0 1 -1 -1 8 Untitled </Variable></FunctionEntry><CommentEntry></CommentEntry><CommentEntry>Transfer small ROIs to original image. </CommentEntry><FunctionEntry GUID="{0x3cef1eb8-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Transfer Regions" Interactive="0" ApplicationName="mmproc" VersionNumber="19990722" CommandID="14" MissingImage="0" MetaJournal="0BE11170" IsCurrentVersion="1" Variables="0BE10FC4"><Variable Type="Image" Name="TransferRegionsJNL.imSourceImage" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 9 SmallROIs </Variable><Variable Type="Image" Name="TransferRegionsJNL.imDestImage" NDimensions="0" Override="" OverrideVariable="">m	1 5 9 0 1 -1 -1 11 BoundingROI </Variable><Variable Type="Integer" Name="TransferRegionsJNL.nRegionSel" NDimensions="0" Override="" OverrideVariable="">2</Variable><Variable Type="Logical" Name="TransferRegionsJNL.bSrcClear" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable><Variable Type="Logical" Name="TransferRegionsJNL.bDstClear" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><CommentEntry></CommentEntry><CommentEntry>Close intermediate images. </CommentEntry><FunctionEntry GUID="{0x3cef1e54-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Close" ApplicationName="mmproc" VersionNumber="1" CommandID="15" Disabled="0" Interactive="0" MissingImage="0" MetaJournal="0BD7A480" IsCurrentVersion="1" Variables="0BD7A2D4"><Variable Type="Image" Name="jnlCloseImage.im" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 11 BoundingROI </Variable><Variable Type="Logical" Name="jnlCloseImage.bSaveIt" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><FunctionEntry GUID="{0x3cef1e54-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Close" ApplicationName="mmproc" VersionNumber="1" CommandID="16" Disabled="0" Interactive="0" MissingImage="0" MetaJournal="0BD7A480" IsCurrentVersion="1" Variables="0BD7A2D4"><Variable Type="Image" Name="jnlCloseImage.im" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 4 Grid </Variable><Variable Type="Logical" Name="jnlCloseImage.bSaveIt" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry><FunctionEntry GUID="{0x3cef1e54-0xe09c-0x11d3-0x93-0x9a-0x0-0x10-0x5a-0x4-0x2f-0x99}" FunctionName="Close" ApplicationName="mmproc" VersionNumber="1" CommandID="17" Disabled="0" MissingImage="0" Interactive="0" MetaJournal="0BD7A480" IsCurrentVersion="1" Variables="0BD7A2D4"><Variable Type="Image" Name="jnlCloseImage.im" NDimensions="0" Override="" OverrideVariable="">m	1 6 9 0 1 -1 -1 9 SmallROIs </Variable><Variable Type="Logical" Name="jnlCloseImage.bSaveIt" NDimensions="0" Override="" OverrideVariable="">FALSE</Variable></FunctionEntry></CodeBlock></Journal>
